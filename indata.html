<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>데이터베이스 정보 입력</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
    <link rel="stylesheet" href="main.css">
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
    import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
    import { collection, addDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
    import { getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
        apiKey: "AIzaSyA4A8gmziSgds-wtuUuM17CHgV1BgDK7NQ",
        authDomain: "sparta-89dc3.firebaseapp.com",
        projectId: "sparta-89dc3",
        storageBucket: "sparta-89dc3.firebasestorage.app",
        messagingSenderId: "56561278459",
        appId: "1:56561278459:web:ae090eab3561cb9d66bf5e",
        measurementId: "G-Q5BHK5MQBQ"
    };
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    $("#postingbtn").click(async function () {
        let name = $('#name').val();
        let mbti = $('#mbti').val();
        let email = $('#email').val();
        let content = $('#content').val();
        let blog = $('#blog').val();
        let part = $('#part').val();

        let doc = {
            'name': name,
            'mbti': mbti,
            'email': email,
            'content': content,
            'blog': blog,
            'part': part
        };
        await addDoc(collection(db, "data"), doc);
        alert('저장 완료!');
        window.location.reload();
    })


</script>

<body>
    <p>맴버 데이터 입력</p>
    <br>
    <div class="mypostingbox" id="postingbox">
        <div class="form-floating mb-3">
            <input type="text" class="form-control" id="name" placeholder="이름">
            <label for="floatingInput">이름</label>
        </div>
        <div class="form-floating mb-3">
            <input type="text" class="form-control" id="mbti" placeholder="MBTI">
            <label for="floatingInput">MBTI</label>
        </div>
        <div class="form-floating mb-3">
            <input type="text" class="form-control" id="email" placeholder="이메일">
            <label for="floatingInput">이메일</label>
        </div>
        <div class="form-floating mb-3">
            <input type="text" class="form-control" id="content" placeholder="소개글">
            <label for="floatingInput">소개글</label>
        </div>
        <div class="form-floating mb-3">
            <input type="text" class="form-control" id="blog" placeholder="블로그 주소">
            <label for="floatingInput">블로그 주소</label>
        </div>
        <div class="form-floating mb-3">
            <input type="text" class="form-control" id="part" placeholder="역할">
            <label for="floatingInput">역할</label>
        </div>
        <div class="mybtn">
            <button id="postingbtn" type="button" class="btn btn-dark">기록하기</button>
            <button type="button" class="btn btn-outline-dark">닫기</button>
        </div>
    </div>

</body>

</html>